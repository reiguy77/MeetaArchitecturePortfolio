<section class="hobbies-section">
  <div class="hobbies-content">
    <h3>HOBBIES &amp; INTERESTS</h3>

    <!-- Display Mode -->
    <div class="hobbies-list" *ngIf="!isEditing">
      <div class="hobby-item" *ngFor="let hobby of hobbies; let i = index">
        <div class="item-content">
          <div class="item-details">
            <div class="item-title">{{ hobby.name }}</div>
            <div class="item-description" *ngIf="hobby.description">{{ hobby.description }}</div>
          </div>
          @if (editMode && isAdmin) {
          <div class="admin-controls">
            <button class="edit-btn" (click)="startEditing(i)">Edit</button>
              <button class="delete-btn" (click)="deleteHobby(i)">Delete</button>
            </div>
          }
        </div>
      </div>
      @if (editMode && isAdmin) {
      <button class="add-btn" (click)="isEditing = true">Add New Item</button>
      }
    </div>

    <!-- Add Form -->
    @if (isAdmin && isEditing) {
      <div class="add-form">
        <h4>Add New Hobby</h4>
        <div class="form-group">
          <label>Title:</label>
          <input type="text" [(ngModel)]="newHobby" placeholder="Enter hobby name">
        </div>
        <div class="form-group">
          <label>Description:</label>
          <textarea [(ngModel)]="newHobbyDescription" placeholder="Enter hobby description" rows="3"></textarea>
        </div>
        <div class="form-buttons">
          <button class="save-btn" (click)="addHobby()" [disabled]="!newHobby.trim()">Add</button>
          <button class="cancel-btn" (click)="isEditing = false">Cancel</button>
        </div>
      </div>
    }

    <!-- Edit Form -->
    @if (editingIndex !== -1) {
      <div class="edit-form">
        <h4>Edit Hobby</h4>
        <div class="form-group">
          <label>Title:</label>
          <input type="text" [(ngModel)]="editHobbyText" placeholder="Enter hobby name">
        </div>
        <div class="form-group">
          <label>Description:</label>
          <textarea [(ngModel)]="editHobbyDescription" placeholder="Enter hobby description" rows="3"></textarea>
        </div>
        <div class="form-buttons">
          <button class="save-btn" (click)="saveEdit()">Save</button>
          <button class="cancel-btn" (click)="cancelEdit()">Cancel</button>
        </div>
      </div>
    }

    @if (hobbies.length === 0) {
      <div class="empty-state">
        <p>No hobbies added yet.</p>
        @if (isAdmin) {
          <button class="add-btn" (click)="isEditing = true">Add Your First Hobby</button>
        }
      </div>
    }
  </div>
</section>
