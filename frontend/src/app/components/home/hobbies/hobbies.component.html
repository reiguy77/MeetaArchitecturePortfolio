<div class="hobbies-container">
    <div class="header">
        <h3>Hobbies</h3>
        @if (isAdmin) {
            <button class="add-btn" (click)="isEditing = !isEditing" [class.active]="isEditing">
                <span class="icon">{{ isEditing ? '‚úï' : '+' }}</span>
                {{ isEditing ? 'Cancel' : 'Add Hobby' }}
            </button>
        }
    </div>
    
    @if (isAdmin && isEditing) {
        <div class="add-hobby-form">
            <div class="input-group">
                <input 
                    type="text" 
                    [(ngModel)]="newHobby" 
                    placeholder="Enter hobby name..."
                    class="hobby-input"
                >
                <textarea 
                    [(ngModel)]="newHobbyDescription" 
                    placeholder="Enter hobby description (optional)..."
                    class="hobby-description-input"
                    rows="2"
                ></textarea>
                <button class="save-btn" (click)="addHobby()" [disabled]="!newHobby.trim()">
                    Add Hobby
                </button>
            </div>
        </div>
    }
    
    <div class="hobby-grid">
        @for(hobby of hobbies; track $index) {
            <div class="hobby-card" [class.editing]="editingIndex === $index">
                @if (editingIndex === $index) {
                    <div class="edit-form">
                        <input 
                            type="text" 
                            [(ngModel)]="editHobbyText" 
                            placeholder="Hobby name"
                            class="edit-name-input"
                        >
                        <textarea 
                            [(ngModel)]="editHobbyDescription" 
                            placeholder="Hobby description (optional)"
                            class="edit-description-input"
                            rows="3"
                        ></textarea>
                        <div class="edit-actions">
                            <button class="save-btn" (click)="saveEdit()">Save</button>
                            <button class="cancel-btn" (click)="cancelEdit()">Cancel</button>
                        </div>
                    </div>
                } @else {
                    <div class="hobby-content">
                        <h4 class="hobby-name">{{hobby.name}}</h4>
                        @if (hobby.description) {
                            <p class="hobby-description">{{hobby.description}}</p>
                        }
                        @if (isAdmin) {
                            <div class="hobby-actions">
                                <button class="edit-btn" (click)="startEditing($index)" title="Edit">
                                    ‚úèÔ∏è
                                </button>
                                <button class="delete-btn" (click)="deleteHobby($index)" title="Delete">
                                    üóëÔ∏è
                                </button>
                            </div>
                        }
                    </div>
                }
            </div>
        }
    </div>
    
    @if (hobbies.length === 0) {
        <div class="empty-state">
            <p>No hobbies added yet.</p>
            @if (isAdmin) {
                <button class="add-btn primary" (click)="isEditing = true">
                    Add Your First Hobby
                </button>
            }
        </div>
    }
</div>
