<div class="split-screen" id="home">
  <!-- Admin Controls -->
  <app-admin-controls
    [isAdmin]="isAdmin"
    [editMode]="editMode"
    (logout)="logout()"
    (toggleEditMode)="toggleEditMode()"
    (saveChanges)="saveChanges()"
    (cancelEdit)="cancelEdit()">
  </app-admin-controls>

  <!-- Left side - Image -->
  <div class="image-section">
    <!-- Cover Image Edit Form - Moved above the image -->
    <div *ngIf="editMode" class="image-edit-form">
      <input
        type="file"
        accept="image/*"
        (change)="onCoverImageSelected($event)"
        class="file-input">
      <small class="file-info" *ngIf="editForm.coverImage">
        Selected: {{ editForm.coverImage.name }}
      </small>
    </div>

    <img [src]="backendUrl  + coverImage" alt="Architectural Design" class="hero-image">
  </div>

  <!-- Right side - Content -->
  <div class="content-section">
    <div class="content-wrapper">
      <h1 (click)="onNameClick()">Meeta Shah</h1>
      <h2>Architect</h2>

      <!-- View Mode -->
      <ng-container *ngIf="!editMode">
        <div class="description">
          <p>{{ subtext }}</p>
        </div>
      </ng-container>

      <!-- Edit Mode -->
      <div *ngIf="editMode" class="edit-form">
        <div class="form-group">
          <label for="subtext">Subtext</label>
          <textarea
            id="subtext"
            [(ngModel)]="editForm.subtext"
            name="subtext"
            rows="3"
            required></textarea>
        </div>
      </div>

      <div class="cta-buttons">
        <button class="primary-btn" (click)="scrollToProjects()">View Projects</button>
      </div>
    </div>
  </div>
</div>

<div class="intro-section" id="about">
  <div class="container">
    <div class="about-wrapper">
      <div class="about-header">
        <h3>About</h3>
      </div>

      <div class="about-content">

        <!-- About Text Section -->
        <div class="about-text">
          <!-- View Mode -->
          <div *ngIf="!editMode" class="about-description">
            <p [innerHTML]="about | nl2br"></p>
          </div>

          <!-- Edit Mode -->
          <div *ngIf="editMode" class="edit-form">
            <div class="form-group">
              <label for="about">About Content</label>
              <textarea
                id="about"
                [(ngModel)]="editForm.about"
                name="about"
                rows="6"
                required></textarea>
            </div>
          </div>
        </div>

        <!-- Headshot Section -->
        <div class="headshot-container">
          <div class="headshot-image">
            <img src="headshot.png" alt="Meeta Shah - Architect" class="headshot">
            <div class="headshot-frame"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="projects">
  <app-project-categories
    [projectCategories]="projectCategories"
    [loading]="loading"
    [error]="error"
    [editMode]="editMode"
    [isAdmin]="isAdmin"
    [backendUrl]="backendUrl"
    (projectClick)="onProjectClick($event)"
    (deleteProject)="onDeleteProject($event)"
    (retryLoad)="retryLoad()"
    (createProject)="onCreateProject($event)"
    (createCategory)="onCreateCategory($event)"
    (deleteCategory)="onDeleteCategory($event)">
  </app-project-categories>
</div>

<div id="education">
  <app-education
    [isAdmin]="isAdmin"
    [editMode]="editMode">
  </app-education>
</div>

<div id="hobbies">
  <app-hobbies [editMode]="editMode">
  </app-hobbies>
</div>

